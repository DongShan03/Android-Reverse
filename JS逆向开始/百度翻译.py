import requests
import execjs


url = "https://fanyi.baidu.com/v2transapi?from=en&to=zh"

f = open("JS逆向开始\百度翻译.js", mode="r", encoding="utf-8")
s = execjs.compile(f.read())


content = "dog"
sign = s.call("b", content)
data = {
    "from": "en",
    "to": "zh",
    "query": content,
    "transtype": "translang",
    "simple_means_flag": 3,
    "sign": sign,
    "token": "363bc14ad4523247a6e2b4be838efc06",
    "domain": "common",
}

headers = {
    "Content-Type": "application/x-www-form-urlencoded; charset=UTF-8",
    "Referer": "https://fanyi.baidu.com/",
    "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36",
    'Cookie': 'BDUSS=JHOXNXbEQ0M1Y4S2VlbWtLWjkxenBuclprc2dweHZySWVpNktMMmREVjhzbkJqRVFBQUFBJCQAAAAAAQAAAAEAAAAw5EAhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHwlSWN8JUlja3; BDUSS_BFESS=JHOXNXbEQ0M1Y4S2VlbWtLWjkxenBuclprc2dweHZySWVpNktMMmREVjhzbkJqRVFBQUFBJCQAAAAAAQAAAAEAAAAw5EAhAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHwlSWN8JUlja3; BAIDUID=B6D3652A44DCAAA9A45ACF6B7BA09A01:FG=1; newlogin=1; H_WISE_SIDS=110085_194529_204906_211986_212296_213028_213352_214799_215727_216839_216942_219563_219623_219741_219942_219946_220662_221679_222299_222396_222522_222624_223064_224045_224048_224159_224456_226006_226628_226945_227932_227981_228370_228617_228650_228859_228861_229155_229685_229913_229966_230083_230185_230241_230244_230248_230437_230583_230846_230930_231176_231904_231920_231979_232054_232220_232243_232409_232627_232685_232719_232755_232777_232825_232878_232925_232927_232950_233007_233118_233159_233176_233215_233466_233588_233591_233599_233693_233864_233891_233947_233952_233963_234039_234041_234044_234208_234224_234296_234302_234308_234331_234351_234382_234397_234671_234689_234782_234800_234959_234960_234981_234997; H_WISE_SIDS_BFESS=110085_194529_204906_211986_212296_213028_213352_214799_215727_216839_216942_219563_219623_219741_219942_219946_220662_221679_222299_222396_222522_222624_223064_224045_224048_224159_224456_226006_226628_226945_227932_227981_228370_228617_228650_228859_228861_229155_229685_229913_229966_230083_230185_230241_230244_230248_230437_230583_230846_230930_231176_231904_231920_231979_232054_232220_232243_232409_232627_232685_232719_232755_232777_232825_232878_232925_232927_232950_233007_233118_233159_233176_233215_233466_233588_233591_233599_233693_233864_233891_233947_233952_233963_234039_234041_234044_234208_234224_234296_234302_234308_234331_234351_234382_234397_234671_234689_234782_234800_234959_234960_234981_234997; BIDUPSID=B6D3652A44DCAAA9A45ACF6B7BA09A01; PSTM=1668226302; BAIDUID_BFESS=B6D3652A44DCAAA9A45ACF6B7BA09A01:FG=1; RT="z=1&dm=baidu.com&si=9oaxh4coafv&ss=lbjh6swv&sl=0&tt=0&bcn=https%3A%2F%2Ffclog.baidu.com%2Flog%2Fweirwood%3Ftype%3Dperf&ld=2cr&ul=3n23p&hd=3n25d"; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1671090530; APPGUIDE_10_0_2=1; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1671090545; ab_sr=1.0.1_MTIyMzY2MTZlM2E0YjdhZGYzOTRlZjMxMmU0NWUwZmYxNWQ2YzMwM2JkYTY4OWU3YzBhZjk4NDQzNDBiMjg4N2FlOTA3N2Q2NmFmN2Q5ZmNlZTIyNTRiMzY3M2YyNTMwMGUxNjZkODhlZDE5ZDExYjAyZWNlOGRlYmQzYzEwYmQ0YmRhN2ZkZDBlZjljZjFmZDczZmNiYmNjYzFjODg1YjgzNjRmMjM3ZWZkZmFlODcxMzg5YjQ3OTQ0YzA1MDk5'
}

resp = requests.post(url, data=data, headers=headers)

print(resp.text)





